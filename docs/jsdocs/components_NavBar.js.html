<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/NavBar.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/NavBar.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
* A module to provide a navigation bar to navigate between site pages.
* @module components/NavBar
* @author Jack
* @see App for the parent to display this module.
*/

import { Menu } from 'antd'
import React, { useContext, useEffect } from 'react'
import { Link } from 'react-router-dom';
import UserContext from '../contexts/user'

function NavBar() {
  const context = useContext(UserContext);
  const [currentMenu, setCurrentMenu] = React.useState(publicMenu);
  const [currentItem, setCurrentItem] = React.useState('home');

  const onClick = (e) => {
    switch (e.key) {
      case "logout":
        context.logout();
        setCurrentItem("home");
        break;
      default:
        setCurrentItem(e.key);
        break;
    }
  }
  useEffect(() => {
    switch (context.user.role) {
      case "user":
        setCurrentMenu(userMenu);
        break;
      case "staff":
        setCurrentMenu(staffMenu);
        break;
      default:
        setCurrentMenu(publicMenu);
        break;
    }
  }, [context.user.role])

  return (
    &lt;Menu onClick={onClick} selectedKeys={[currentItem]} mode="horizontal" items={currentMenu} />
  )
}
const publicMenu = [
  {
    label: (
      &lt;Link to={"/"}>Home&lt;/Link>
    ),
    key: 'home',
  },
  {
    label: (
      &lt;Link to={"/login"}>Login&lt;/Link>
    ),
    key: 'login'
  },
  {
    label: (
      &lt;Link to={"/register"}>Register&lt;/Link>
    ),
    key: 'register'
  },
  {
    label: 'Public user',
    key: 'publicUser',
    disabled: true,
  },
];
const userMenu = [
  {
    label: (
      &lt;Link to={"/"}>Home&lt;/Link>
    ),
    key: 'home',
  },
  {
    label: (
      &lt;Link to={"/favourite"}>Favourite&lt;/Link>
    ),
    key: 'favourite'
  },
  {
    label: (
      &lt;Link to={"/"}>Log out&lt;/Link>
    ),
    key: 'logout'
  },
  {
    label: 'Registered user',
    key: 'registeredUser',
    disabled: true,
  },
];
const staffMenu = [
  {
    label: (
      &lt;Link to={"/"}>Home&lt;/Link>
    ),
    key: 'home',
  },
  {
    label: (
      &lt;Link to={"/managedogs"}>Manage dogs&lt;/Link>
    ),
    key: 'managedogs'
  },
  {
    label: (
      &lt;Link to={"/"}>Log out&lt;/Link>
    ),
    key: 'logout'
  },
  {
    label: 'Staff user',
    key: 'staffUser',
    disabled: true,
  },
];

export default NavBar</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-components_DogCard.html">components/DogCard</a></li><li><a href="module-components_DogCreateForm.html">components/DogCreateForm</a></li><li><a href="module-components_DogDeleteForm.html">components/DogDeleteForm</a></li><li><a href="module-components_DogSearch.html">components/DogSearch</a></li><li><a href="module-components_DogUpdateForm.html">components/DogUpdateForm</a></li><li><a href="module-components_DogView.html">components/DogView</a></li><li><a href="module-components_LoginForm.html">components/LoginForm</a></li><li><a href="module-components_NavBar.html">components/NavBar</a></li><li><a href="module-components_RegisterForm.html">components/RegisterForm</a></li><li><a href="module-contexts_user.html">contexts/user</a></li><li><a href="module-utilities_requestHandlers.html">utilities/requestHandlers</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Wed May 25 2022 06:45:48 GMT+0800 (香港標準時間)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
